"use strict";(self["webpackChunksmart_shopping"]=self["webpackChunksmart_shopping"]||[]).push([[42],{3042:function(t,s,a){a.r(s),a.d(s,{default:function(){return b}});a(7658);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),s("div",{staticClass:"sort-btns"},[s("div",{staticClass:"sort-item",on:{click:t.allSort}},[t._v("综合")]),s("div",{staticClass:"sort-item",on:{click:t.salesSort}},[t._v("销量")]),s("div",{staticClass:"sort-item",on:{click:t.priceSort}},[t._v("价格")])]),s("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},r=[],o=a(5897),i=a(1787),n=a(4161);const{Axios:c,AxiosError:d,CanceledError:l,isCancel:u,CancelToken:p,VERSION:g,all:h,Cancel:f,isAxiosError:m,spread:y,toFormData:v,AxiosHeaders:S,HttpStatusCode:C,formToJSON:k,getAdapter:_,mergeConfig:w}=n["default"];var I={name:"SearchIndex",data(){return{page:1,proList:[],all:h,sales:0,sort_price:0}},components:{GoodsItem:o.Z},computed:{querySearch(){return this.$route.query.search}},async created(){const{data:{list:t}}=await(0,i.Fs)({categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page});this.proList=t.data},methods:{async allSort(){const{data:{list:t}}=await(0,i.Fs)({sortType:h,goodsName:this.querySearch,page:this.page});this.proList=t.data},async priceSort(){const{data:{list:t}}=await(0,i.Fs)({sortPrice:this.sort_price,goodsName:this.querySearch,page:this.page});this.proList=t.data},async salesSort(){const{data:{list:t}}=await(0,i.Fs)({sales:this.sales,goodsName:this.querySearch,page:this.page});this.proList=t.data}}},q=I,x=a(1001),N=(0,x.Z)(q,e,r,!1,null,"34b8c6e2",null),b=N.exports},1787:function(t,s,a){a.d(s,{Aw:function(){return o},Fs:function(){return r},U3:function(){return i}});var e=a(4471);const r=t=>{const{sortType:s,sortPrice:a,categoryId:r,goodsName:o,page:i}=t;return e.Z.get("/goods/list",{params:{sortType:s,sortPrice:a,categoryId:r,goodsName:o,page:i}})},o=t=>e.Z.get("/goods/detail",{params:{goodsId:t}}),i=(t,s)=>e.Z.get("/comment/listRows",{params:{goodsId:t,limit:s}})}}]);
//# sourceMappingURL=42.97b4c5ee.js.map